= Pet Management API Documentation
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 4
:sectlinks:
:operation-curl-request-title: Example request
:operation-http-response-title: Example response

[[overview]]
== Overview

This document provides documentation for the Pet Management API. It includes detailed information about
the available endpoints, request parameters, and response formats.

[[authentication]]
== Authentication

[[login]]
=== Login

A `POST` request to `/api/auth/login` authenticates a user and returns a JWT token.

==== Request Fields

include::{snippets}/auth-login/request-fields.adoc[]

==== Example Request

include::{snippets}/auth-login/http-request.adoc[]

==== Example Response

include::{snippets}/auth-login/http-response.adoc[]

==== Response Fields

include::{snippets}/auth-login/response-fields.adoc[]

[[resources]]
== Resources

[[pets-resource]]
=== Pets

This section describes the operations available for managing pets.

[[get-all-pets]]
==== Get All Pets

A `GET` request to `/api/pets` retrieves a list of all pets.

===== Example Request

include::{snippets}/get-all-pets/http-request.adoc[]

===== Example Response

include::{snippets}/get-all-pets/http-response.adoc[]

===== Response Fields

include::{snippets}/get-all-pets/response-fields.adoc[]

[[get-pet-by-id]]
==== Get Pet By ID

A `GET` request to `/api/pets/{id}` retrieves a specific pet by its ID.

===== Path Parameters

include::{snippets}/get-pet-by-id/path-parameters.adoc[]

===== Example Request

include::{snippets}/get-pet-by-id/http-request.adoc[]

===== Example Response

include::{snippets}/get-pet-by-id/http-response.adoc[]

===== Response Fields

include::{snippets}/get-pet-by-id/response-fields.adoc[]

[[create-pet]]
==== Create a New Pet

A `POST` request to `/api/pets` creates a new pet.

===== Request Fields

include::{snippets}/create-pet/request-fields.adoc[]

===== Example Request

include::{snippets}/create-pet/http-request.adoc[]

===== Example Response

include::{snippets}/create-pet/http-response.adoc[]

===== Response Fields

include::{snippets}/create-pet/response-fields.adoc[]

[[security]]
== Security

=== Authentication

The API uses JWT tokens for authentication. To access protected endpoints, include an `Authorization` header with a valid JWT token.

Example:
```
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...
```

=== User Roles

The system supports multiple user roles with different permissions:

* `ROLE_ADMIN`: Full access to all endpoints
* `ROLE_VET`: Access to pet-related endpoints
* `ROLE_PET_OWNER`: Limited access to their own pets
* `ROLE_STAFF`: Access to tasks and other management functions

[[error-handling]]
== Error Handling

The API uses standard HTTP status codes to indicate the success or failure of requests:

* `200 OK`: The request was successful
* `201 Created`: A new resource was successfully created
* `400 Bad Request`: The request was malformed or invalid
* `401 Unauthorized`: Authentication is required
* `403 Forbidden`: The authenticated user does not have permission
* `404 Not Found`: The requested resource was not found
* `500 Internal Server Error`: An unexpected error occurred

Error responses include a message describing the error. 