---
description: 
globs: 
alwaysApply: true
---
There are currently five modules in this project: auth, users, pets, grooming, hotel, and medical. Each module should be independent, which means a service in one module cannot directly call another module’s repository or service. It should only be accessed via service interfaces defined in the common folder. Directly using another module’s DTO or entity is allowed but not recommended.

Ở phía back-end, chương trình tuân theo mô hình phân tầng với 3 tầng từ trên xuống là controller, service và repository. Các tầng phụ thuộc nhau từ trên xuống, tầng trên phụ thuộc tầng dưới và tầng dưới không được phụ thuộc ngược lên tầng trên. Trách nhiệm của từng tầng như sau:
- Controller: Đảm nhiệm việc giao tiếp với phía client như nhận request, bóc tách dữ liệu json thành đối tượng DTO tương ứng và chuyển cho tầng service xử lý, sau đó đóng gói response và trả về cho client.
- Service: Đảm nhiệm vai trò xử lý logic nghiệp vụ cho ứng dụng. Tầng này nhận yêu cầu từ tầng controller sau đó tương tác với tầng repository để lấy dữ liệu phục vụ cho xử lý logic nghiệp vụ, và trả lại kết quả cho tầng controller.
- Repository: Đóng vai trò như một interface tới cơ sở dữ liệu, tầng này sẽ nhận các yêu cầu truy vấn từ tầng service, sau đó giao tiếp với cơ sở dữ liệu để thực hiện truy vấn đó, rồi trả về kết quả cho tầng service.